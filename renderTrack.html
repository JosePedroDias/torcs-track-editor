<html>
  <head>
    <meta charset="utf-8">
    <title>render track</title>
    <style>
      html, body {
        margin: 0;
      }
      body {
        overflow: auto;
      }
      canvas {
        background-color: #DDD;
      }
    </style>
  </head>
  <body>
    <script src="libs/ajax.js"></script>
    <script src="libs/fakeCtx.js"></script>
    <script src="libs/turtle.js"></script>
    <script src="libs/road.js"></script>
    <script src="libs/track.js"></script>

    <script>
      let track = 'tracks/basic.xml';

      if (location.hash) {
        let url = location.hash.substring(1);
        if (url.indexOf('://') !== -1) { // cors
          url = url.split('://')[1];
          url = 'https://cors-anywhere.herokuapp.com/' + url;
        }
        track = url;
      }

      ajax(track, function(err, track) {
        if (err) {
          return window.alert('Problem loading track ' + track);
        }
        renderTrack(track);
      });
    </script>
  </body>
</html>